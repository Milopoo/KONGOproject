<!DOCTYPE html>
<html lang="es">

</html>
<html>

<head>
    <title>FACTURAS</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shorcut icon" type="image/x-icon" href="./img/Logo_Empresa-modified.ico">
    <link rel="stylesheet" href="estilos/estilos.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <div class="social-logo">
        <img class="logo-factura" src="img/Logo_Empresa-modified.png">
    </div>
    <h2 class="info-contacto"><i class="fa fa-align-left" aria-hidden="true"></i> Facturas</h2>

    <h1>Aqui se muestran todas las facturas generadas</h1>

    <p>Presione el bot√≥n para desplegar todas las facturas</p>

    <button onclick="showContent()">Show hidden content</button>

    <template id="template-facturas" style="text-align: center;">
        <h2>Flower</h2>
        <img src="/img/Logo_Empresa-modified.png" width="214" height="204">
        <div>
            <p> Factura</p>
        </div>
        <select name="" id="">
            <option value="pendiente">Factura pendiente</option>
            <option value="pagada">Factura pagada</option>
            <option value="enviado">Pedido enviado</option>
            <option value="entregado">Pedido entregado</option>
        </select>
    </template>

    <script>


        function showContent() {
            var temp = document.getElementsByTagName("template")[0];
            var clon = temp.content.cloneNode(true);
            document.body.appendChild(clon);
        }
    </script>
    <script type="module" src="firebaseFact.js"> </script>
    <script type="module">
        import { getDatabase, ref, child, get } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";

        const database = getDatabase();
        var id = '';
        const tasksContainer = document.getElementById('template-facturas');

        const querySnapshot = await get(ref(database, 'Facturas'));
        tasksContainer.innerHTML = '';

        const dbRef = ref(database);
        get(child(dbRef, 'Facturas')).then((snapshot) => {
            if (snapshot.exists()) {
                querySnapshot.forEach(database => {
                    //console.log(database.val());
                    console.log(database.val().IdFactura);
                });
            } else {
                console.log("No hay datos asi")
            }
        })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(error.code + error.message)
            })
        /*querySnapshot.forEach((doc) => {

            console.log(doc.id, " => ", doc.data());

        });*/



    </script>

</body>

</html>